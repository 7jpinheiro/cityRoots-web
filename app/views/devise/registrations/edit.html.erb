<div class="page-header">
    <h1><%= current_user.username %></h1>
</div>


<div class="container">
  <div class="well well-sm">
    <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name),:class=>"form-horizontal") do |f| %>
        <%= devise_error_messages! %>
        <br>
        <div class="row">
          <div class="form-group">
            <label for="username" class="col-sm-4 control-label">Nome de utilizador</label>
            <div class="col-sm-6">
              <%= f.text_field :username, :autofocus => true , :class=>"form-control form-control-square" %>
              <p class="help-block"></p>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="form-group">
            <label for="email" class="col-sm-4 control-label">Email</label>
            <div class="col-sm-6">
              <%= f.text_field :email, :autofocus => true , :class=>"form-control form-control-square" %>
             <p class="help-block"></p>              
            </div>
          </div>
        </div>
        <div class="row">
          <div class="form-group">
            <label for="password_confirmation" class="col-sm-4 control-label">Password actual</label>
            <div class="col-sm-6">
              <%= f.password_field :current_password, :autocomplete => false , :class=>"form-control form-control-square" %>
             <p class="help-block"></p>              
            </div>
          </div>
        </div>
        <div class="row">
          <div class="form-group">
            <label for="password" class="col-sm-4 control-label">Nova Password</label>
            <div class="col-sm-6">
              <%= f.password_field :password, :autocomplete => "off", :autofocus => true , :class=>"form-control form-control-square" %>
             <p class="help-block"></p>              
            </div>
          </div>
        </div>
        <div class="row">
          <div class="form-group">
            <label for="password_confirmation" class="col-sm-4 control-label">Confirmação Password</label>
            <div class="col-sm-6">
              <%= f.password_field :password_confirmation, :autofocus => true , :class=>"form-control form-control-square" %>
             <p class="help-block"></p>

            </div>
          </div>
        </div>
        <div class="row">
          <div class="form-group control-group">
            <label for="password_confirmation" class="col-sm-4 control-label">Idioma</label>
            <div class="col-sm-6">
              <%= f.collection_select(:language_id, Language.all, :id, :name,{prompt: "Selecione um Tipo"}, {class: "form-control"} ) %>
                <p class="help-block"></p>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="form-group control-group">
            <label for="city_id" class="col-sm-4 control-label">País</label>
            <div class="col-sm-6">
              <%= f.collection_select(:country_id, Country.all, :id, :name,{prompt: "Selecione um Tipo"}, {class: "form-control"} ) %>
                <p class="help-block"></p>
            </div>
          </div>
        </div>
        
    <%= f.fields_for :web_user do |e| %>  
      <div class="row">
        <div class="form-group control-group">
          <%= e.label "Morada" ,:for=>"address" , :class=>"col-sm-4 control-label" %>
          <div class="col-sm-6">
            <%= e.text_field :address ,:id=>"address" ,:autofocus => true, :class=>"form-control", :placeholder=>"A sua Morada",:required => true %>
            <p class="help-block"></p>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="form-group control-group">
          <%= e.label "Tipo" ,:for=>"address" , :class=>"col-sm-4 control-label" %>
          <div class="col-sm-6">
            <%= e.collection_select( :web_user_type_id, WebUserType.all, :id, :name ,{prompt: "Selecione um Tipo"}, {class: "form-control",:required => true} ) %>
            <p class="help-block"></p>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="form-group control-group">
          <%= e.label "Cidade" ,:for=>"address" , :class=>"col-sm-4 control-label" %>
          <div class="col-sm-6">
            <%= e.collection_select( :city_id, City.all, :id, :name ,{prompt: "Selecione um Tipo"}, {class: "form-control",:required => true} ) %>
            <p class="help-block"></p>
          </div>
        </div>
      </div> 
  
    <% end %>
  </div>
</div>

  <div><%= f.submit "Guardar" , :class=>"btn btn-primary btn-block btn-square" , :style=>"width:100px;" %></div>
  <% end %>
</div>